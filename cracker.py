import crypt
def testpass(password):
    salt = password[0:2] #This is assuming you know how the password was salted, UNIX uses crypt() which adds the same 2 char salt to every password
    dictionaryfile = open('dictionary.txt', 'r')
    for word in dictionaryfile.readlines():
        word = word.strip('\n')
        cryptword = crypt.crypt(word,salt)
        if cryptword == password:
            print
            'found password:' + word + "\n"
            return
        print
        'password not found'
        return
def main():
    passwordfile = open('passwords.txt')
    for line in passwordfile.readlines():
        if ":" in line:
            username = line.split(':')[0]
            password = line.split(':')[1].strip(' ')
            print
            'cracking password for' + username
            testpass(password)
if __name__ == '__main__':
    main()